language: node_js
node_js: node

before_install:
  - cd $TRAVIS_BUILD_DIR/..
  - git clone https://github.com/lionelvillard/openwhisk-deploy.git --depth 3
  - cd openwhisk-deploy
  - npm i 
  - npm run compilenowatch
  - npm link
  - cd $TRAVIS_BUILD_DIR
  - tools/travis/bxsetup.sh
  
install: 
  - npm install
  - npm link @openwhisk/deploy

script: 
   - npm test

notifications:
  email:
    - villard@us.ibm.com